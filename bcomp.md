# Модель БЭВМ #



# Существующие пользовательские интерфейсы #

  1. [Эмулятор БЭВМ для командной строки](cli.md)
  1. [Графический интерфейс эмулятора](gui.md)
  1. [Декомпилятор микропрограммы](decoder.md)

# Существующие микропрограммы #
  1. [Исходная микропрограмма](BaseMicroProgram.md)
  1. [Оптимизированная микропрограмма](OptimizedMicroProgram.md)
  1. [Расширенная микропрограмма](ExtendedMicroProgram.md)

# Существующие наборы команд #
Набор команд определяется используемой микропрограммой. На данный момент реализованы:
  1. [Оригинальный набор команд](BaseInstrSet.md)
  1. [Расширенный набор команд](ExtendedInstrSet.md)

# Ассемблер #
Разработан согласованный с используемыми в учебных пособиях обозначениями диалект [ассемблера](asm.md).

# Отличия модели от оригинальной #
  1. Для безадресных команд и команд ввода-вывода исполнение происходит на цикле исполнения.
  1. Регистр состояния является полноценным регистром, а не объединением однобитовых регистров.
  1. Из РС удалены 4 старших бита, отвечавших за отображение выполняемых циклов и выполнение операции ввода-вывода. РС, соответственно, теперь представляет собой 9-ти битный регистр.
  1. При выполнении команды TSF проверка состояния 6-ого бита РС и пропуск следующей команды реализованы на [микропрограммном уровне](BaseMicroProgram.md), из-за чего во всех реализованных микропрограммах отличается адрес начала цикла прерывания.
  1. При выполнении любой операции ввода-вывода в 6-й бит РС записывается значение с шины состояние флага ВУ. Если выполнялась команда TSF, то 6-й бит РС попадёт состояние флага готовности соответствующего ВУ. Если выполнялась другая команда ввода-вывода, то в 6-й бит РС гарантированно будет записан 0, что обеспечивает достаточность проверки 6-ого бита РС для определения необходимости пропуска команды без проверки того, какая именно команда ввода-вывода была выполнена.
  1. Установка 5-ого бита РС использует состояние 4-ого бита РС и шины запрос прерывания. Состояние 6-ого бита РС при этом не используется.
  1. Для ОМК1 убрана возможность одновременной записи содержимого БР в А, РД, РА, РК.
  1. Для ОМК1 убрана возможность сброса готовности всех ВУ.
  1. "Тактовый генератор" запускает операцию чтения из памяти микрокоманд в регистр микрокоманд.
  1. Увеличение содержимого СчМК на 1 инициируется при записи в него нулевого значения.
  1. Добавлено внешнее устройство вывода 0. Новое ВУ при ненулевом значении в своём РД раз в указанное в нём количество секунд устанавливает свою готовность.

# Интерпретация недокументированных особенностей БЭВМ #
  1. Выполнение пультовых операций записывает в СчМК соответствующий адрес и, если не установлен режим потактового выполнения, записывает 1 в 8-й бит РС (Программа), запуская микропрограмму на выполнение. В противном случае выполняется один такт.
  1. У0 (HLT) подаётся на В0, который записывает 0 в 8-й бит РС. Также 8-й бит РС сбрасывается при включении потактового режима выполнения.
  1. Микропрограмма выполняется до тех пор, пока 8-й бит РС равен 1, т.е. пока не будет выполнена микрокоманда HLT или установлен режим потактового выполнения.